(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2ea09f72"],{"3ca2":function(e,t,s){"use strict";var a=s("edd1"),i=s.n(a);i.a},"87ad":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"screen"},[s("el-input",{attrs:{placeholder:"请输入姓名(只能筛选姓名)"},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}}),s("el-button",{attrs:{type:"success",round:""},on:{click:e.sureModify}},[e._v("确定筛选")])],1),s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.PermissionList,border:""}},[s("el-table-column",{attrs:{prop:"create_time",label:"创建日期",align:"center"}}),s("el-table-column",{attrs:{prop:"user_account",label:"帐号",align:"center"}}),s("el-table-column",{attrs:{prop:"user_name",label:"姓名",align:"center"}}),s("el-table-column",{attrs:{prop:"user_type",label:"职位",align:"center"}}),s("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(s){return e.modify(t.row)}}},[e._v("修改权限")])]}}])})],1),s("el-dialog",{attrs:{title:"修改权限",visible:e.modifyFormVisible,width:"25%"},on:{"update:visible":function(t){e.modifyFormVisible=t}}},[s("h3",{staticStyle:{color:"red"}},[e._v("*不可操作项为该用户默认权限，不可手动修改！！！如需修改请联系系统管理员！！！")]),s("el-tree",{ref:"tree1",attrs:{data:e.dataList,"show-checkbox":"","node-key":"permission_id","check-strictly":e.checkStrictly,props:e.defaultProps,"default-expand-all":e.defaultAll,"default-checked-keys":e.dataId},on:{check:e.tree}})],1)],1)},i=[],n={data:function(){return{modifyFormVisible:!1,checkStrictly:!0,userName:"",defaultAll:!0,session_key:"",dataId:[],dataList:[],defaultProps:{children:"children",label:"permission_name"},PermissionList:[],userType:"",uid:""}},methods:{modify:function(e){var t=this;this.modifyFormVisible=!0,this.uid=e.id;var s=new URLSearchParams;s.append("uid",e.id),s.append("session_key",this.session_key),this.$http({method:"post",url:"hr24/get_user_permission_list/",data:s}).then(function(e){1==e.data.status&&(t.dataList=e.data.data.user_role_permission,t.dataId=e.data.data.other_permission)}).catch(function(e){console.log(e)})},sureModify:function(){var e=this,t=new URLSearchParams;t.append("search_keyword",this.userName),t.append("session_key",this.session_key),this.$http({method:"post",url:"hr24/user_list/",data:t}).then(function(t){1==t.data.status&&(e.PermissionList=t.data.data.user_list)}).catch(function(e){console.log(e)})},tree:function(e){var t=this,s=e.permission_id,a=new URLSearchParams;a.append("permission_id",s),a.append("uid",this.uid),a.append("session_key",this.session_key),this.$http({method:"post",url:"hr24/update_user_permission/",data:a}).then(function(e){1==e.data.status&&t.$message({showClose:!0,message:e.data.data,type:"success"})}).catch(function(e){console.log(e)})}},mounted:function(){var e=this,t=JSON.parse(sessionStorage.getItem("userInfo")).data.data;this.userType=t.user_type,this.session_key=t.session_key;var s=new URLSearchParams;s.append("search_keyword",this.userName),s.append("session_key",this.session_key),this.$http({method:"post",url:"hr24/user_list/",data:s}).then(function(t){1==t.data.status&&(e.PermissionList=t.data.data.user_list)}).catch(function(e){console.log(e)})}},r=n,o=(s("3ca2"),s("2877")),l=Object(o["a"])(r,a,i,!1,null,"b76c13f2",null);t["default"]=l.exports},edd1:function(e,t,s){}}]);