(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-30810c6e"],{1037:function(t,a,e){"use strict";var l=e("541f"),s=e.n(l);s.a},"541f":function(t,a,e){},"7e14":function(t,a,e){"use strict";e.r(a);var l=function(){var t=this,a=t.$createElement,e=t._self._c||a;return t.showHome?e("div",[e("div",{staticClass:"uploadOne"},[e("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{drag:"",action:"hr24/upload_many_files/","before-upload":t.beforeUpload,"on-success":t.onSuccess,data:t.uploaDate,"current-page":t.currentPage,multiple:""}},[e("i",{staticClass:"el-icon-upload"}),e("div",{staticClass:"el-upload__text"},[t._v("\n        将文件拖到此处，或\n        "),e("em",[t._v("点击上传")])])])],1),e("div",{staticClass:"uploadOne"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.todayData}},[e("el-table-column",{attrs:{prop:"total_file",label:"总上传文件数",align:"center"}}),e("el-table-column",{attrs:{prop:"valid_count",label:"总上传有效简历数",align:"center"}}),e("el-table-column",{attrs:{prop:"last_time",label:"最近上传时间",align:"center"}}),e("el-table-column",{attrs:{prop:"upload_name",label:"最近上传人员",align:"center"}})],1)],1),e("div",{staticClass:"uploadOne"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.Daily}},[e("el-table-column",{attrs:{prop:"name",label:"文件名",align:"center"}}),e("el-table-column",{attrs:{label:"上传有效简历数",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s(null==a.row.valid_amount?"0":a.row.valid_amount))])]}}],null,!1,2958001320)}),e("el-table-column",{attrs:{prop:"create_time",label:"上传时间",align:"center"}}),e("el-table-column",{attrs:{prop:"upload_name",label:"上传人员",align:"center"}})],1)],1),e("el-pagination",{staticStyle:{"text-align":"center"},attrs:{"page-size":10,layout:"total, prev, pager, next",total:t.totalCont},on:{"prev-click":t.prevClick,"next-click":t.nextClick,"current-change":t.handleCurrentChange}})],1):t._e()},s=[],n=(e("7f7f"),{data:function(){return{fileList:[],totalCont:0,showHome:!0,currentPage:1,session_key:"",uploaDate:{file:"",session_key:"",page:0},todayData:[],Daily:[]}},methods:{beforeUpload:function(t){this.uploaDate.page=0,this.uploaDate.session_key=this.session_key},uploadHttp:function(t){var a=this,e=new URLSearchParams;e.append("page",t),e.append("session_key",this.session_key),this.$http({method:"post",url:"hr24/show_data/",data:e}).then(function(t){var e=t.data.data[0];a.todayData=e.total_data,a.Daily=e.day_data,a.totalCont=a.todayData[0].total_file})},onSuccess:function(t,a,e){if(1==t.status){var l=t.data[0];this.todayData=l.total_data,this.Daily=l.day_data,this.totalCont=this.todayData[0].total_file,this.$notify({title:"上传文件",message:a.name+"已成功上传",type:"success"}),this.$refs.upload.clearFiles()}else this.$notify({title:"上传文件",message:a.name+"上传失败",type:"error"}),this.$refs.upload.clearFiles()},handleCurrentChange:function(t){this.currentPage=t,this.uploadHttp(t-1)},prevClick:function(){this.uploadHttp(this.currentPage-2)},nextClick:function(){this.uploadHttp(this.currentPage)}},mounted:function(){var t=this,a=JSON.parse(sessionStorage.getItem("userInfo")),e=a.data.data.area_id,l=a.data.data.user_type;if(this.session_key=a.data.data.session_key,1==e||5==l){var s=new URLSearchParams;s.append("page",0),s.append("session_key",this.session_key),this.$http({method:"post",url:"hr24/show_data/",data:s}).then(function(a){var e=a.data.data[0];t.todayData=e.total_data,t.Daily=e.day_data,t.totalCont=t.todayData[0].total_file})}else this.showHome=!1,this.$message({showClose:!0,message:"该页面暂无权限，正在返回首页！",type:"error"}),setTimeout(function(){t.$router.push({name:"dashboard"})},1e3)}}),o=n,i=(e("1037"),e("2877")),r=Object(i["a"])(o,l,s,!1,null,"4b9db196",null);a["default"]=r.exports}}]);